<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://xamarin.com/schemas/2014/forms"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="Vertical.Views.AutorizationsPage"
             xmlns:stateContainerDemo="clr-namespace:Xamarin.Forms.Essentials.Controls;assembly=Xamarin.Forms.Essentials.Controls"
             xmlns:inputLayout="clr-namespace:Syncfusion.XForms.TextInputLayout;assembly=Syncfusion.Core.XForms"
             xmlns:customviews="clr-namespace:Vertical.CustomViews"
             BackgroundColor="White">
    <ContentPage.Resources>
        <Style TargetType="Entry" x:Key="entryStyle">
            <Setter Property="PlaceholderColor" Value="#e0e2e5"/>
            <Setter Property="FontFamily" Value="Graphik"/>
        </Style>
        <Style TargetType="Label">
            <Setter Property="FontFamily" Value="Graphik"/>
        </Style>
        
    </ContentPage.Resources>
    <stateContainerDemo:StateContainer State="{Binding States}">
        <stateContainerDemo:StateCondition Is="Normal">
            <StackLayout Spacing="3" Margin="10" VerticalOptions="FillAndExpand">
                
                <Image x:Name="svgLogo" Source="{Binding PikLogoImage}" Margin="0,130,0,0"/>
                <inputLayout:SfTextInputLayout 
                    x:Name="entryLogin"
                    Style="{x:StaticResource SfTextInputLayoutStyle}"
                    Hint="Логин" 
                    Margin="0,10,0,0"
                    >
                    <Entry Text="{Binding User.Login, Mode=TwoWay}" Style="{StaticResource entryStyle}"/>
                </inputLayout:SfTextInputLayout>
                <inputLayout:SfTextInputLayout 
                    x:Name="passwordEntry"
                    Style="{x:StaticResource SfTextInputLayoutStyle}"
                    Hint="Пароль"                           
                    Margin="0,5,0,0"                                              
                    EnablePasswordVisibilityToggle="True"
                    >
                    <Entry Text="{Binding User.Password, Mode=TwoWay}" IsPassword="True" Style="{StaticResource entryStyle}"/>
                </inputLayout:SfTextInputLayout>
                
                <Button x:Name="sighInButton" Text="Войти" Command="{Binding SignInCommand}" 
                        Margin="0,30,0,0" IsEnabled="{Binding IsEnabled}" Style="{x:StaticResource BlueButtonStyle}"/>
                <ActivityIndicator IsRunning="{Binding IsRunning, Mode=TwoWay}" IsVisible="{Binding IsRunning}" 
                                   Margin="0,10,0,0" HorizontalOptions="Center"
                                   HeightRequest="50" WidthRequest="50"
                                   Color="#ff4114" />
            </StackLayout>            
        </stateContainerDemo:StateCondition>
        
        <stateContainerDemo:StateCondition Is="Loading">
            <ActivityIndicator IsRunning="True" Style="{x:StaticResource ActivityIndicatorStyle}"/>
        </stateContainerDemo:StateCondition>
    </stateContainerDemo:StateContainer>    
</ContentPage>